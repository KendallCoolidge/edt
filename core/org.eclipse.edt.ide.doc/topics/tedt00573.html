<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
<meta name="DC.Type" content="task"></meta>
<meta name="DC.Title" content="Accessing IBM i programs as web services: keystroke details"></meta>
<meta name="abstract" content="The EGL generator can create a SOAP web service or an EGL REST web service so that an application that acts as a service requester can access these types of IBM i programs: rpgle, cbl, cblle, sqlrpgle, sqlcbl, and sqlcblle."></meta>
<meta name="description" content="The EGL generator can create a SOAP web service or an EGL REST web service so that an application that acts as a service requester can access these types of IBM i programs: rpgle, cbl, cblle, sqlrpgle, sqlcbl, and sqlcblle."></meta>
<meta name="DC.subject" content="services, IBM i, web services, keystrokes, PCML, IBM i programs as services, Program Call Markup Language (PCML), IBM i programs as services"></meta>
<meta name="keywords" content="services, IBM i, web services, keystrokes, PCML, IBM i programs as services, Program Call Markup Language (PCML), IBM i programs as services"></meta>
<meta name="copyright" content="(C) Copyright 2011" type="primary"></meta>
<meta name="DC.Rights.Owner" content="(C) Copyright 2011" type="primary"></meta>
<meta name="DC.Format" content="XHTML"></meta>
<meta name="DC.Identifier" content="tedt00573"></meta>
<meta name="DC.Language" content="en-us"></meta>
<link rel="stylesheet" type="text/css" href="../../PRODUCT_PLUGIN/style/commonltr.css"></link>
<title>Accessing IBM i programs as web services: keystroke details</title>
</head>
<body id="tedt00573"><a name="tedt00573"><!-- --></a>





<h1 class="topictitle1">Accessing IBM i programs
as web services: keystroke details</h1>



<div id="body"><a name="body"><!-- --></a><p>The EGL generator can create a SOAP web service
or an EGL REST web service so that an application that acts as a service
requester can access these types of IBM i
programs: rpgle, cbl, cblle, sqlrpgle, sqlcbl, and sqlcblle.</p>

<div class="p">Before you can perform this task, the following prerequisites
must be fulfilled:<ul>
<li>Your workspace must include a web or general project to contain
the following data: <ul>
<li>The external type that represents your IBM i program</li>

<li>The structured Record parts that are used as the basis of the
records that are exchanged between the web service and the IBM i program</li>

</ul>
</li>

<li>Your workspace must include a Rich UI project to contain the Interface
and non-structured Record parts that your Rich UI application uses
to access the IBM i code at
run time.</li>

<li>Your workspace is connected to your IBM i
system. A connection is available in the Remote Systems Explorer perspective.</li>

</ul>
<div class="note"><span class="notetitle">Note:</span> The wizard described here does not create an Interface
part to access a SOAP service. To create an Interface part to access
a SOAP service: <ol>
<li>Generate the deployment descriptor, which creates the WSDL file
and places it in the <span class="filepath">WebContent/WEB-INF/wsdl</span> directory.</li>

<li>Right-click the WSDL file name, select <span class="menucascade"><span class="uicontrol">EGL
Services</span> &gt; <span class="uicontrol">Create EGL client interface</span>
</span>, and continue with the process that is described in <span class="q">"Creating
an Interface part to access a SOAP service."</span> Remember to place
the Interface part in the Rich UI project.</li>

</ol>
</div>
</div>

<div class="section"><p>This topic describes the instructions to access IBM i programs as web services.
For background information, see <span class="q">"Accessing IBM i programs as web services: overview."</span></p>
<p>To
access an IBM i program as a
web service, do as follows:</p>
</div>

<ol><li class="stepexpand"><span>Create external types and structured Record parts.</span>
<ol type="a">
<li class="substepexpand"><span>In the Remote Systems Explorer perspective, right-click
the entry for IBM i program
source or for an existing Program Call Markup Language (PCML) definition.</span>
</li>

<li class="substepexpand"><span>Select <span class="menucascade"><span class="uicontrol">EGL Services</span>
 &gt; <span class="uicontrol">Create EGL: External Type, Interface, and records</span>
</span>.</span></li>

<li class="substepexpand"><span>The first of two "New EGL part" windows is displayed.
In the middle of the box, select an external type to create. At the
bottom of the box, select one or more check boxes to indicate whether
to create a web (SOAP) service, a web (REST) service, or both. </span>
 <ul>
<li>If you select <span class="uicontrol">Create REST web services</span>,
you can create an Interface part and non-structured Record parts for
use by the Rich UI application. </li>

<li>If you do not want the Interface and Record parts, clear <span class="uicontrol">Create
EGL Rich UI Interface for REST web service</span>. Later, if
you want an Interface part for the REST service, right-click the external
type, select <span class="menucascade"><span class="uicontrol">EGL Services</span> &gt; <span class="uicontrol">Extract
EGL Interface</span></span>, and complete the steps in
the wizard. Remember to place the Interface part in the Rich UI project.</li>

</ul>
</li>

<li class="substepexpand"><span>Click <span class="uicontrol">Next</span>. The second <span class="q">"New
EGL part"</span> window is displayed:</span> <ol type="i">
<li>In the <span class="uicontrol">Source folder</span> field, specify the
project that receives the external type and structured Record parts.
Also specify a backslash (\) and the source folder. </li>

<li>In the <span class="uicontrol">Package</span> field, specify the package
name. Be sure to specify a package name; otherwise, no other project
can access the parts in the project you identified.</li>

<li>In the <span class="uicontrol">EGL source file name</span> field, specify
the file name.</li>

</ol>
</li>

<li class="substepexpand"><span>In the subsequent fields, specify the details for a
given external type. Make sure to specify whether the program is a
service program: </span> <ol type="i">
<li>In the <span class="uicontrol">ExternalType Name</span> field, specify
the name to create for the external type itself.</li>

<li>In the <span class="uicontrol">Host Program Name</span> field, specify
the name of the link-edited host program.</li>

<li>In the <span class="uicontrol">Host Program Library</span> field, specify
the library name for the link-edited host program.</li>

<li>If the program is a service program, select <span class="uicontrol">Service
Program</span>. Otherwise, clear that field and select the appropriate
entry in the <span class="uicontrol">Host Program Type</span> list. In that
list, you can indicate whether the host program is NATIVE, which is
written in COBOL or RPG; or EGL, which is written in EGL.</li>

<li>In the <span class="uicontrol">Entrypoints</span> field, select the program
functions to expose as service functions. You can select or deselect
all functions by clicking <span class="uicontrol">Select All</span> or <span class="uicontrol">Deselect
All</span>.</li>

<li>To overwrite same-named files for the external types, select <span class="uicontrol">Overwrite
existing files</span>. To protect yourself against overwriting
existing files, clear the check box.</li>

</ol>
</li>

<li class="substepexpand"><span>Click <span class="uicontrol">Next</span>.</span></li>

</ol>

</li>
<li class="stepexpand"><span>Create one or more web (REST) services</span>
<ol type="a">
<li><span></span><br></br></li>

</ol>

</li>
<li class="stepexpand"><span>Create one or more Interface parts.</span> If you indicated
that you want to include Interface and Record parts with the REST
services, the <span class="q">"New EGL Interface part"</span> window is displayed.
<ol type="a">
<li class="substepexpand"><span>In the <span class="uicontrol">Source folder</span> field, specify
the Rich UI project that receives the Interface part, along with the
source folder.</span></li>

<li class="substepexpand"><span>In the <span class="uicontrol">Package</span> field, specify
the package name. Be sure to specify a package name; otherwise, no
other project can access the parts in the project you identified.</span>
</li>

<li class="substepexpand"><span>In the <span class="uicontrol">EGL source file name</span> field,
specify the file name.</span></li>

<li class="substepexpand"><span>In the subsequent fields, specify the details for a
given Interface part and the related Record parts.</span> <ol type="i">
<li>In the <span class="uicontrol">Interface Name</span> field, specify the
name to create for the Interface part</li>

<li>In the functions area, identify each IBM i
function that will be represented in the Interface part. The wizard
creates a nonstructured Record part for each parameter that is not
a primitive type.</li>

</ol>
</li>

<li class="substepexpand"><span>To overwrite existing files, select <span class="uicontrol">Overwrite
existing files</span>. To protect yourself against overwriting
existing files, clear the check box.</span></li>

</ol>

</li>
<li class="stepexpand"><span>Create one or more web (SOAP) services.</span> If you
are creating web (SOAP) services, the <span class="wintitle">New EGL Web Service</span> window
is displayed.
<ol type="a">
<li><span>If the <span class="uicontrol">Source folder</span> field is
available, specify a web or general project, along with the source
folder that contains the deployment descriptor. The web service is
an output that is created at deployment-descriptor generation time.</span>
</li>

<li><span>If the <span class="uicontrol">EGL deployment descriptor file name</span> field
is available, specify the name of the deployment descriptor.</span>
</li>

<li><span>In the middle box, select <span class="uicontrol">enableGenerate</span> for
each service to generate. If you already generated a web service,
you can save time at generation by specifying, in the deployment descriptor,
that you do not want to generate the service. However, if you change
any aspect of the deployment-descriptor entry, you must regenerate
the service.</span></li>

<li><span>To overwrite same-named SOAP-service entries in the
deployment descriptor, select <span class="uicontrol">Overwrite existing files</span>.
To protect yourself against overwriting existing entries, clear the
check box.</span></li>

<li><span>In the last section, if available, click the <span class="uicontrol">Add</span> button
to modify or add a protocol used to access the IBM i program from the web service. The Add Protocol
window is displayed. Specify a protocol name, along with the additional
information specified in the <cite>EGL Generation Guide</cite>, <span class="q">"Deployment
descriptor options for service requesters."</span> To return to the New
EGL Web Service window, click <span class="uicontrol">Finish</span>.</span>
</li>

<li><span>Click <span class="uicontrol">Finish</span> to complete your
work in the wizard.</span></li>

</ol>

</li>
</ol>

<div class="section">The new deployment descriptor file is created and opens in
the editor.</div>

</div>

<anchor id="related_links"></anchor>


</body>
</html>