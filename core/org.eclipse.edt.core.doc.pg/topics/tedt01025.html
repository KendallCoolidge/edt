<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
<meta name="DC.Type" content="topic"></meta>
<meta name="DC.Title" content="Using a provided Interface part for a 3rd-party REST service"></meta>
<meta name="abstract" content="In EGL, you can use the following Interface part to access a third-party REST service."></meta>
<meta name="description" content="In EGL, you can use the following Interface part to access a third-party REST service."></meta>
<meta name="DC.subject" content="services, REST, non-EGL, REST services, Interface parts, REST service access"></meta>
<meta name="keywords" content="services, REST, non-EGL, REST services, Interface parts, REST service access"></meta>
<meta name="DC.Relation" scheme="URI" content="../topics/tedt01002.html"></meta>
<meta name="copyright" content="(C) Copyright 2011" type="primary"></meta>
<meta name="DC.Rights.Owner" content="(C) Copyright 2011" type="primary"></meta>
<meta name="DC.Format" content="XHTML"></meta>
<meta name="DC.Identifier" content="tedt01025"></meta>
<meta name="DC.Language" content="en-us"></meta>
<link rel="stylesheet" type="text/css" href="../../org.eclipse.edt.core.doc.top/style/commonltr.css"></link>
<title>Sample Interface part that you can use to access a third-party REST service</title>
</head>
<body id="tedt01025"><a name="tedt01025"><!-- --></a>


<h1 class="topictitle1">Using a provided Interface part for a 3rd-party REST service</h1>




<div><p>In EGL, you can use the following Interface part to access
a third-party REST service.</p>

<pre class="codeblock">interface IRest
   function invokeGet(reqURL string in) returns(string)  
      {@getRest {uriTemplate="{reqURL}"}};
   function invokePost(reqURL string in, representation string in) returns(string)
      {@postRest {uriTemplate="{reqURL}"}};
   function invokePut(reqURL string in, representation string in) returns(string)
      {@putRest {uriTemplate="{reqURL}"}};
   function invokeDelete(reqURL string in, representation string in) returns(string) 
      {@deleteRest {uriTemplate="{reqURL}"}};
end
</pre>

<p>By using this Interface part as is, you do not have to write one.
However, the work required to code the service-invocation statement
is different. </p>

<div class="p">Here is an example for asynchronous access, as occurs in Rich UI
applications:<pre class="codeblock">myVar IRest;
myResource String = ServiceLib.convertToJson(myRec);
call myVar.invokePost("http://www.example.com", myResource) 
    returning to myCallbackfunction;</pre>
</div>

<div class="p">Here is an example for synchronous access, as occurs elsewhere:<pre class="codeblock">myString STRING:
myVar IRest;
myResource String = ServiceLib.convertToJson(myRec);
myString = myVar.invokePost("http://www.example.com", myResource);</pre>
</div>

<div class="p">The differences between synchronous and asynchronous access are
as follows:<ul>
<li> You do not pass multiple arguments that are used as substitution
values. Here are different ways to construct the URI:<ul>
<li>You can pass the whole URI, as shown in the examples</li>

<li>You can also specify the whole URI in the variable declaration,
as shown here:<pre class="codeblock">myVar IRest {@RESTService {baseURI="http://www.example.com"};
myResource String = ServiceLib.convertToJSON(myRec);
call myVar.invokePost("", myResource) 
    returning to myCallbackfunction; </pre>
</li>

<li>You can rely on the variable declaration to provide the base URI
and then pass a relative URI</li>

</ul>
</li>

<li>When you invoke a service by using the POST, PUT, or DELETE methods,
make sure that the representation (a string) is in the format that
is required by the REST service. The following functions show the
required formats:<ul>
<li>For JSON conversion: <span class="synph"><span class="kwd">JSONLib.convertToJSON</span></span></li>

<li>For XML conversion: <span class="synph"><span class="kwd">XMLLib.convertToXML</span></span></li>

</ul>
</li>

</ul>
</div>

<div class="p">You might need a function prototype that has a different characteristic,
such as a DELETE operation that does not require you to pass a representation.
In that case, create a similar Interface part, but change the <tt>InvokeDelete</tt> function
prototype or add a prototype with a different name. Here is a changed
prototype:<pre class="codeblock">function invokeDelete(reqURL string in) returns(string) 
   {@deleteRest {uriTemplate="{reqURL}"}};</pre>
</div>

</div>

<div>
<div class="familylinks">
</div>
</div>

</body>
</html>