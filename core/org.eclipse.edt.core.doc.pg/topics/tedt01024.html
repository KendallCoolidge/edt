<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
<meta name="DC.Type" content="topic"></meta>
<meta name="DC.Title" content="Invoking a service synchronously from outside of Rich UI"></meta>
<meta name="abstract" content="Service invocation outside of Rich UI is always synchronous, which means that the requester waits for a response from the service."></meta>
<meta name="description" content="Service invocation outside of Rich UI is always synchronous, which means that the requester waits for a response from the service."></meta>
<meta name="DC.subject" content="services, Rich UI, synchronous invocation, invoking synchronously"></meta>
<meta name="keywords" content="services, Rich UI, synchronous invocation, invoking synchronously"></meta>
<meta name="DC.Relation" scheme="URI" content="../topics/tedt01002.html"></meta>
<meta name="copyright" content="(C) Copyright 2011" type="primary"></meta>
<meta name="DC.Rights.Owner" content="(C) Copyright 2011" type="primary"></meta>
<meta name="DC.Format" content="XHTML"></meta>
<meta name="DC.Identifier" content="tedt01024"></meta>
<meta name="DC.Language" content="en-us"></meta>
<link rel="stylesheet" type="text/css" href="../../PRODUCT_PLUGIN/style/commonltr.css"></link>
<title>Invoking a service synchronously from outside of Rich UI</title>
</head>
<body id="tedt01024"><a name="tedt01024"><!-- --></a>


<h1 class="topictitle1">Invoking a service synchronously from outside of Rich UI</h1>



<div><p>Service invocation outside of Rich UI is always synchronous,
which means that the requester waits for a response from the service.</p>

<div class="p">Here is the syntax of the service-access statement:<pre class="codeblock">returnValueVariable = <var class="varname">serviceName</var>.<var class="varname">operationName</var>(<var class="varname">argumentList</var>) {timeout = <var class="varname">milliseconds</var>};</pre>
<dl>

<dt class="dlterm"><span class="synph"><span class="var">returnValueVariable</span></span> </dt>

<dd>The name of a variable that receives the return value</dd>


<dt class="dlterm"><span class="synph"><span class="var">serviceName</span></span> </dt>

<dd>The name of a variable that is based on an Interface or Service
part</dd>


<dt class="dlterm"><span class="synph"><span class="var">operationName</span></span> </dt>

<dd>The name of the Interface part function prototype.</dd>


<dt class="dlterm"><span class="synph"><span class="var">argumentList</span></span> </dt>

<dd>A list of arguments, each of which is separated from the next
by a comma<p>For
restrictions on arguments, see “Restrictions in the prototypes used
for service access.”</p>
</dd>


<dt class="dlterm"><span class="synph"><span class="var">milliseconds</span></span> </dt>

<dd>The maximum valid number of milliseconds that elapse between when
the EGL runtime code invokes a web service and when the EGL runtime
code receives a response. If more time elapses, the EGL runtime code
throws a <span class="synph"><span class="kwd">ServiceInvocationException</span></span>. However,
this setting has no effect in EGL-generated COBOL code.<div class="p">To set a
timeout:<ul>
<li>Consider various factors, such as local network traffic, internet
traffic, and server response time. Those factors mean that two invocations
of the same service are likely to take a different amount of time
under different conditions. </li>

<li>Consider the nature of your application. If your code is waiting
for a credit approval, you might set a high timeout value to avoid
charging the user twice. If your code is making a bid in an online
auction, you might set a low timeout value so that the user can make
another bid quickly.</li>

<li>Use timeout values that vary from one another by one or more seconds.</li>

</ul>
</div>
<p>You can set a default value for <span class="synph"><span class="var">milliseconds</span></span> in
the <span class="synph"><span class="kwd">defaultServiceTimeout</span></span> build descriptor
option. The <span class="synph"><span class="kwd">defaultServiceTimeout</span></span> build
descriptor option has no default value set. If you do not specify
a value for either <span class="synph"><span class="kwd">defaultServiceTimeout</span></span> or
for <span class="synph"><span class="var">milliseconds</span></span>, the service call will
not time out. For more information, see “defaultServiceTimeout.”</p>
</dd>

</dl>
</div>

<div class="section"><h2 class="sectiontitle">try blocks</h2><p>Use a <span class="synph"><span class="kwd">try</span></span> block
to test for an Exception record of type <span class="synph"><span class="kwd">AnyException</span></span>:</p>
<pre class="codeblock">try 
   myString = myService.myOperation(1);
   onException (except AnyException)
   case 
      when (exp isa ServiceBindingException)
         ;
      when (exp isa ServiceInvocationException)
         ;
      otherwise
         ; 
   end
end</pre>
<div class="p">Errors might occur in these places:<ul>
<li>In a service binding; that is, in how the service access is specified
in your code. This error might involve a problem in the deployment
descriptor.</li>

<li>In the communication of the requester with the service</li>

<li>In the service</li>

</ul>
</div>
<p>A problem in a service binding results in a <span class="synph"><span class="kwd">ServiceBindingException</span></span>.
Other problems result in a <span class="synph"><span class="kwd">ServiceInvocationException</span></span> or
a <span class="synph"><span class="kwd">RuntimeException</span></span>, which is less likely.</p>
</div>

</div>

<div>
<div class="familylinks">
</div>
</div>

</body>
</html>