<project name="Parse egl.cup" default="run">
	<target name="run">
		<!-- Set this to the location of JavaCup on your machine. -->
		<property name="JavaCup" value="/tmp/"/>
		
		<java classpath="${JavaCup}" classname="java_cup.Main" fork="true" error="egl.cup.dump">
			<jvmarg value="-Xmx64m"/>
			<arg value="-nonterms"/>
			<arg value="-parser"/>
			<arg value="ErrorBaseParser"/>
			<arg value="-dump_grammar"/>
			<arg value="-dump_states"/>
			<arg value="-expect"/>
			<arg value="134"/>
			<arg value="-symbols"/>
			<arg value="ErrorNodeTypes"/>
			<arg value="error.cup"/>
		</java>
		
		<java classpath="../../../../../../../../../org.eclipse.edt.compiler/bin2" fork="true" classname="org.eclipse.edt.compiler.core.ast.ActionMethodSplitter" output="temp.file">
			<arg value="ErrorBaseParser"/>
		</java>
		
		<move file="temp.file" tofile="ErrorBaseParser.java" verbose="true"/>
		
		<eclipse.refreshLocal resource="org.eclipse.edt.ide.core"/>
	</target>
</project>